{"ast":null,"code":"import _taggedTemplateLiteral from \"E:\\\\deee\\\\I.T.I\\\\React\\\\EventsApp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"E:\\\\deee\\\\I.T.I\\\\React\\\\EventsApp\\\\client\\\\src\\\\pages\\\\Events\\\\EventsInsert.jsx\";\n\nfunction _templateObject6() {\n  const data = _taggedTemplateLiteral([\"\\n\\tmargin: 15px 15px 15px 5px;\\n\"]);\n\n  _templateObject6 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  const data = _taggedTemplateLiteral([\"\\n\\tmargin: 15px 15px 15px 5px;\\n\"]);\n\n  _templateObject5 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  const data = _taggedTemplateLiteral([\"\\n\\tmargin: 5px;\\n\"]);\n\n  _templateObject4 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  const data = _taggedTemplateLiteral([\"\\n\\tmargin: 5px;\\n\"]);\n\n  _templateObject3 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  const data = _taggedTemplateLiteral([\"\\n\\tmargin: 0 30px;\\n\"]);\n\n  _templateObject2 = function () {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport api from \"../../api\";\nimport styled from \"styled-components\";\nimport FileUpload from \"../../components/FileUpload\";\nimport { Dropdown, DropdownButton, ButtonGroup } from \"react-bootstrap\";\nimport Select from \"react-select\";\nlet SpeakersMenu = [];\nvar output_data = {\n  element: []\n};\nconst Title = styled.h1.attrs({\n  className: \"h1\"\n})(_templateObject());\nconst Wrapper = styled.div.attrs({\n  className: \"form-group\"\n})(_templateObject2());\nconst Label = styled.label(_templateObject3());\nconst InputText = styled.input.attrs({\n  className: \"form-control\"\n})(_templateObject4());\nconst Button = styled.button.attrs({\n  className: \"btn btn-primary\"\n})(_templateObject5());\nconst CancelButton = styled.a.attrs({\n  className: \"btn btn-danger\"\n})(_templateObject6());\n\nclass EventsInsert extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentWillMount = async () => {\n      await api.getAllSpeakers().then(speakers => {\n        console.log(speakers.data.data);\n        SpeakersMenu = speakers.data.data;\n        SpeakersMenu.map(x => ({}));\n        console.log(SpeakersMenu[0].name);\n\n        for (var key in speakers.data.data) {\n          var output = {}; // create new empty object on each iteration\n\n          output.value = speakers.data.data[key]._id;\n          output.label = speakers.data.data[key].name;\n          output_data.element.push(output);\n        }\n\n        console.log(output_data);\n      });\n    };\n\n    this.onFileChange = async event => {\n      this.setState({\n        profileImg: event.target.files[0]\n      });\n    };\n\n    this.handleChangeInputTitle = async event => {\n      const title = event.target.value;\n      this.setState({\n        title\n      });\n    };\n\n    this.handleChangeInputDescription = async event => {\n      const description = event.target.value;\n      this.setState({\n        description\n      });\n    };\n\n    this.handleChangeInputMainSpeaker = async mainSpeaker => {\n      this.setState({\n        mainSpeaker\n      }, () => console.log(\"Option selected:\", this.state.mainSpeaker));\n    };\n\n    this.handleChangeInputOtherSpeakers = otherSpeakers => {\n      this.setState({\n        otherSpeakers\n      }, () => console.log(\"Option selected:\", this.state.otherSpeakers));\n    };\n\n    this.handleChangeInputRating = async event => {\n      const rating = event.target.validity.valid ? event.target.value : this.state.rating;\n      this.setState({\n        rating\n      });\n    };\n\n    this.handleChangeInputTime = async event => {\n      const time = event.target.value;\n      this.setState({\n        time\n      });\n    };\n\n    this.handleIncludeEvent = async () => {\n      const _this$state = this.state,\n            title = _this$state.title,\n            description = _this$state.description,\n            time = _this$state.time,\n            rating = _this$state.rating,\n            profileImg = _this$state.profileImg;\n      const mainSpeaker = this.state.mainSpeaker.value;\n      const otherSpeakers = this.state.otherSpeakers.value;\n      const payload = {\n        title,\n        description,\n        time,\n        rating,\n        mainSpeaker,\n        otherSpeakers,\n        profileImg\n      };\n      console.log(\"payload \" + payload);\n      await api.insertEvent(payload).then(res => {\n        console.log(payload);\n        window.alert(\"Event inserted successfully\");\n        this.setState({\n          title: \"\",\n          description: \"\",\n          time: \"\",\n          rating: \"\",\n          mainSpeaker: \"\",\n          otherSpeakers: \"\",\n          profileImg: \"\"\n        });\n      });\n    };\n\n    this.state = {\n      title: \"\",\n      description: \"\",\n      time: \"\",\n      rating: \"\",\n      mainSpeaker: \"\",\n      otherSpeakers: \"\",\n      profileImg: \"\"\n    };\n  }\n\n  render() {\n    console.log(output_data.element);\n    const _this$state2 = this.state,\n          title = _this$state2.title,\n          description = _this$state2.description,\n          time = _this$state2.time,\n          rating = _this$state2.rating,\n          mainSpeaker = _this$state2.mainSpeaker,\n          otherSpeakers = _this$state2.otherSpeakers,\n          profileImg = _this$state2.profileImg;\n    return /*#__PURE__*/React.createElement(Wrapper, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 5\n      }\n    }, \" Add Event\"), /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 5\n      }\n    }, \" title: \"), /*#__PURE__*/React.createElement(InputText, {\n      type: \"text\",\n      value: title,\n      onChange: this.handleChangeInputTitle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 5\n      }\n    }, \"description: \"), /*#__PURE__*/React.createElement(InputText, {\n      type: \"numper\",\n      value: description,\n      onChange: this.handleChangeInputDescription,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 5\n      }\n    }, \"rating: \"), /*#__PURE__*/React.createElement(InputText, {\n      type: \"text\",\n      value: rating,\n      onChange: this.handleChangeInputRating,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 5\n      }\n    }, \"time: \"), /*#__PURE__*/React.createElement(InputText, {\n      type: \"text\",\n      value: time,\n      onChange: this.handleChangeInputTime,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 5\n      }\n    }, \"mainSpeaker: \"), /*#__PURE__*/React.createElement(Select, {\n      value: mainSpeaker,\n      onChange: this.handleChangeInputMainSpeaker,\n      options: output_data.element,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 5\n      }\n    }, \"otherSpeakers: \"), /*#__PURE__*/React.createElement(Select, {\n      value: otherSpeakers,\n      onChange: this.handleChangeInputOtherSpeakers,\n      options: output_data.element,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"display-4 text-center mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fab fa-react\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 7\n      }\n    }), \" Upload Image\"), /*#__PURE__*/React.createElement(FileUpload, {\n      Key: \"fromEvent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleIncludeEvent,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 5\n      }\n    }, \"Add Event\"), /*#__PURE__*/React.createElement(CancelButton, {\n      href: \"/speakers/list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 5\n      }\n    }, \"Cancel\"));\n  }\n\n}\n\nexport default EventsInsert;","map":{"version":3,"sources":["E:/deee/I.T.I/React/EventsApp/client/src/pages/Events/EventsInsert.jsx"],"names":["React","Component","api","styled","FileUpload","Dropdown","DropdownButton","ButtonGroup","Select","SpeakersMenu","output_data","element","Title","h1","attrs","className","Wrapper","div","Label","label","InputText","input","Button","button","CancelButton","a","EventsInsert","constructor","props","componentWillMount","getAllSpeakers","then","speakers","console","log","data","map","x","name","key","output","value","_id","push","onFileChange","event","setState","profileImg","target","files","handleChangeInputTitle","title","handleChangeInputDescription","description","handleChangeInputMainSpeaker","mainSpeaker","state","handleChangeInputOtherSpeakers","otherSpeakers","handleChangeInputRating","rating","validity","valid","handleChangeInputTime","time","handleIncludeEvent","payload","insertEvent","res","window","alert","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport api from \"../../api\";\r\nimport styled from \"styled-components\";\r\nimport FileUpload from \"../../components/FileUpload\";\r\nimport { Dropdown, DropdownButton, ButtonGroup } from \"react-bootstrap\";\r\nimport Select from \"react-select\";\r\nlet SpeakersMenu = [];\r\nvar output_data = {\r\n\telement: []\r\n  };\r\nconst Title = styled.h1.attrs({\r\n\tclassName: \"h1\",\r\n})``;\r\n\r\nconst Wrapper = styled.div.attrs({\r\n\tclassName: \"form-group\",\r\n})`\r\n\tmargin: 0 30px;\r\n`;\r\n\r\nconst Label = styled.label`\r\n\tmargin: 5px;\r\n`;\r\n\r\nconst InputText = styled.input.attrs({\r\n\tclassName: \"form-control\",\r\n})`\r\n\tmargin: 5px;\r\n`;\r\n\r\nconst Button = styled.button.attrs({\r\n\tclassName: `btn btn-primary`,\r\n})`\r\n\tmargin: 15px 15px 15px 5px;\r\n`;\r\n\r\nconst CancelButton = styled.a.attrs({\r\n\tclassName: `btn btn-danger`,\r\n})`\r\n\tmargin: 15px 15px 15px 5px;\r\n`;\r\n\r\n\r\nclass EventsInsert extends Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\ttitle: \"\",\r\n\t\t\tdescription: \"\",\r\n\t\t\ttime: \"\",\r\n\t\t\trating: \"\",\r\n\t\t\tmainSpeaker: \"\",\r\n\t\t\totherSpeakers: \"\",\r\n\t\t\tprofileImg: \"\",\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentWillMount = async () => {\r\n\t\tawait api.getAllSpeakers().then(speakers => {\r\n\t\t\tconsole.log(speakers.data.data);\r\n\t\t\tSpeakersMenu=speakers.data.data;\r\n\t\t\tSpeakersMenu.map(x => ({\r\n\r\n\t\t\t}))\r\n\t\t\tconsole.log(SpeakersMenu[0].name);\r\n\r\n\r\n\r\n\t\t\r\n\t\t\t  \r\n\t\t\t  for (var key in speakers.data.data) {  \r\n\t\t\t\tvar output = {}; // create new empty object on each iteration\r\n\t\t\t\toutput.value = speakers.data.data[key]._id;\r\n\t\t\t\toutput.label = speakers.data.data[key].name;\r\n\t\t\t\toutput_data.element.push(output);\r\n\t\t\t  }\r\n\t\t\t  console.log(output_data);\r\n\r\n\t\t});\r\n\t};\r\n\tonFileChange = async event => {\r\n\t\tthis.setState({ profileImg: event.target.files[0] });\r\n\t};\r\n\thandleChangeInputTitle = async event => {\r\n\t\tconst title = event.target.value;\r\n\t\tthis.setState({ title });\r\n\t};\r\n\r\n\thandleChangeInputDescription = async event => {\r\n\t\tconst description = event.target.value;\r\n\t\tthis.setState({ description });\r\n\t};\r\n\r\n\thandleChangeInputMainSpeaker = async mainSpeaker => {\r\n\t\tthis.setState(\r\n\t\t\t{ mainSpeaker },\r\n\t\t\t() => console.log(`Option selected:`, this.state.mainSpeaker)\r\n\t\t  );\r\n\t};\r\n\thandleChangeInputOtherSpeakers = otherSpeakers => {\r\n\t\tthis.setState(\r\n\t\t  { otherSpeakers },\r\n\t\t  () => console.log(`Option selected:`, this.state.otherSpeakers)\r\n\t\t);\r\n\t  };\r\n\thandleChangeInputRating = async event => {\r\n\t\tconst rating = event.target.validity.valid\r\n\t\t\t? event.target.value\r\n\t\t\t: this.state.rating;\r\n\r\n\t\tthis.setState({ rating });\r\n\t};\r\n\r\n\thandleChangeInputTime = async event => {\r\n\t\tconst time = event.target.value;\r\n\t\tthis.setState({ time });\r\n\t};\r\n\thandleIncludeEvent = async () => {\r\n\t\tconst {\r\n\t\t\ttitle,\r\n\t\t\tdescription,\r\n\t\t\ttime,\r\n\t\t\trating,\r\n\t\tprofileImg,\r\n\t\t} = this.state;\r\n\t\tconst mainSpeaker =this.state.mainSpeaker.value;\r\n\t\tconst otherSpeakers= this.state.otherSpeakers.value;\r\n\t\tconst payload = {\r\n\t\t\ttitle,\r\n\t\t\tdescription,\r\n\t\t\ttime,\r\n\t\t\trating,\r\n\t\t\tmainSpeaker,\r\n\t\t\totherSpeakers,\r\n\t\t\tprofileImg,\r\n\t\t};\r\n\t\tconsole.log(\"payload \" + payload);\r\n\t\tawait api.insertEvent(payload).then(res => {\r\n\t\t\tconsole.log(payload);\r\n\t\t\twindow.alert(`Event inserted successfully`);\r\n\t\t\tthis.setState({\r\n\t\t\t\ttitle: \"\",\r\n\t\t\t\tdescription: \"\",\r\n\t\t\t\ttime: \"\",\r\n\t\t\t\trating: \"\",\r\n\t\t\t\tmainSpeaker: \"\",\r\n\t\t\t\totherSpeakers: \"\",\r\n\t\t\t\tprofileImg: \"\",\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\trender() {\r\n\t\tconsole.log(output_data.element);\r\n\r\n\t\tconst {\r\n\t\t\ttitle,\r\n\t\t\tdescription,\r\n\t\t\ttime,\r\n\t\t\trating,\r\n\t\t\tmainSpeaker,\r\n\t\t\totherSpeakers,\r\n\t\t\tprofileImg,\r\n\t\t} = this.state;\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<Wrapper>\r\n\t\t\t\t<Title> Add Event</Title>\r\n\t\t\t\t<Label> title: </Label>\r\n\t\t\t\t<InputText\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={title}\r\n\t\t\t\t\tonChange={this.handleChangeInputTitle}\r\n\t\t\t\t/>\r\n\t\t\t\t<Label>description: </Label>\r\n\t\t\t\t<InputText\r\n\t\t\t\t\ttype=\"numper\"\r\n\t\t\t\t\tvalue={description}\r\n\t\t\t\t\tonChange={this.handleChangeInputDescription}\r\n\t\t\t\t/>\r\n\t\t\t\t<Label>rating: </Label>\r\n\t\t\t\t<InputText\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={rating}\r\n\t\t\t\t\tonChange={this.handleChangeInputRating}\r\n\t\t\t\t/>\r\n\t\t\t\t<Label>time: </Label>\r\n\t\t\t\t<InputText\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={time}\r\n\t\t\t\t\tonChange={this.handleChangeInputTime}\r\n\t\t\t\t/>\r\n\t\t\t\t<Label>mainSpeaker: </Label>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tvalue={mainSpeaker}\r\n\t\t\t\t\tonChange={this.handleChangeInputMainSpeaker}\r\n\t\t\t\t\toptions={output_data.element}\r\n\t\t\t\t/>\r\n\t\t\t\t<Label>otherSpeakers: </Label>\r\n\r\n\t\t\t\t<Select\r\n\t\t\t\t\tvalue={otherSpeakers}\r\n\t\t\t\t\tonChange={this.handleChangeInputOtherSpeakers}\r\n\t\t\t\t\toptions={output_data.element}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<div className=\"container mt-4\">\r\n\t\t\t\t\t<h1 className=\"display-4 text-center mb-4\">\r\n\t\t\t\t\t\t<i className=\"fab fa-react\" /> Upload Image\r\n\t\t\t\t\t</h1>\r\n\r\n\t\t\t\t\t<FileUpload Key=\"fromEvent\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<Button onClick={this.handleIncludeEvent}>Add Event</Button>\r\n\t\t\t\t<CancelButton href={\"/speakers/list\"}>Cancel</CancelButton>\r\n\t\t\t</Wrapper>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EventsInsert;\r\n"]},"metadata":{},"sourceType":"module"}